/* ==========================================================================
   Legacy Browser Fallbacks
   For browsers that don't support modern CSS features
   Include this BEFORE your main styles.css
   ========================================================================== */

/* Fallback colors for browsers without CSS variables support */
body {
  color: #1f2937;
  background-color: #fafafa;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-size: 15px;
  line-height: 1.6;
}

/* Primary color fallbacks */
.product-details-btn,
.filter-tag {
  background-color: #075697;
  color: #ffffff;
}

.product-details-btn:hover,
.filter-tag:hover {
  background-color: rgba(7, 86, 151, 0.9);
}

.breadcrumb-link:hover,
.quick-view-link:hover {
  color: #075697;
}

/* Border fallbacks */
.product-card {
  border: 1px solid #e5e5e5;
}

/* Shadow fallbacks for browsers without CSS variables */
.product-card {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.product-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Spacing fallbacks */
.page-header {
  margin-bottom: 32px;
}

.product-cards {
  gap: 32px;
}

/* Grid fallback for browsers without CSS Grid */
@supports not (display: grid) {
  .product-cards {
    display: flex;
    flex-wrap: wrap;
    margin: -16px;
  }
  
  .product-cards li {
    flex: 0 0 calc(33.333% - 32px);
    margin: 16px;
  }
  
  @media (max-width: 768px) {
    .product-cards li {
      flex: 0 0 calc(50% - 32px);
    }
  }
  
  @media (max-width: 480px) {
    .product-cards li {
      flex: 0 0 100%;
    }
  }
}

/* Flexbox fallback for browsers without Flex gap */
@supports not (gap: 1px) {
  .product-cards {
    margin: -16px;
  }
  
  .product-cards li {
    margin: 16px;
  }
  
  .breadcrumb-list {
    margin: 0 -4px;
  }
  
  .breadcrumb-item {
    margin: 0 4px;
  }
}

/* clamp() fallback for responsive font sizes */
@supports not (font-size: clamp(24px, 5vw, 40px)) {
  .page-header h1 {
    font-size: 32px;
  }
  
  @media (max-width: 768px) {
    .page-header h1 {
      font-size: 28px;
    }
  }
  
  @media (max-width: 480px) {
    .page-header h1 {
      font-size: 24px;
    }
  }
}

/* Object-fit fallback for older browsers */
@supports not (object-fit: contain) {
  .product-image {
    width: 100%;
    height: auto;
  }
}

/* Contain fallback (progressive enhancement) */
@supports not (contain: layout) {
  .product-card {
    /* Fallback: no containment, slight performance hit but works */
    overflow: hidden;
  }
}

/* Focus-visible fallback for browsers without support */
@supports not selector(:focus-visible) {
  *:focus {
    outline: 2px solid #075697;
    outline-offset: 2px;
  }
}

/* Backdrop-filter fallback */
@supports not (backdrop-filter: blur(10px)) {
  .product-card-back {
    background-color: rgba(255, 255, 255, 0.98); /* More opaque fallback */
  }
}

/* Aspect-ratio fallback */
@supports not (aspect-ratio: 1/1) {
  .product-image-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
  }
  
  .product-image-container img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
}

/* CSS Custom Properties test and fallback indicator */
@supports (--css: variables) {
  html {
    /* Modern browser detected */
  }
}

@supports not (--css: variables) {
  /* Add visual indicator for legacy browser */
  body::before {
    content: "You're using a legacy browser. Some features may be limited.";
    display: block;
    padding: 8px;
    background: #fff3cd;
    color: #856404;
    text-align: center;
    font-size: 14px;
  }
}

/* Internet Explorer specific fixes */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /* IE 10+ */
  .product-card {
    display: block;
  }
  
  .product-card-front {
    display: block;
  }
  
  /* Fix flexbox bugs in IE */
  .product-cards {
    display: block;
  }
  
  .product-cards li {
    display: inline-block;
    width: calc(33.333% - 32px);
    margin: 16px;
    vertical-align: top;
  }
}

/* Edge Legacy fixes */
@supports (-ms-ime-align: auto) {
  .product-card {
    /* Edge-specific fixes if needed */
  }
}

